<!DOCTYPE html>
<html
  lang="zh"
  dir="ltr"
  
><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>我的博客</title>

<meta name="generator" content="Hugo Eureka 0.9.3" />
<link rel="stylesheet" href="/css/eureka.min.faa8bf2a5c9fc279a37c3bc5d8334aa06d491653aaa47c13af09b81396aef331f70d5d528ba104107dda7a3e99247dee.css">
<script defer src="/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js"></script>













<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&amp;family=Noto&#43;Serif&#43;SC:wght@400;600;700&amp;display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/base16/solarized-light.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js"
   crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/dart.min.js"
     crossorigin></script>
<link rel="stylesheet" href="/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css" media="print" onload="this.media='all';this.onload=null">


<script defer type="text/javascript" src="/js/fontawesome.min.5326a287e2fe3a6337c56a59d553a5185a42f32a225d8218eed88c123cf8414ffa5e4bf72982ce3f2ec34aa03959d3b1.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
   integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"  media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" 
  integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY"  crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
   integrity="sha384-&#43;XBljXPPiv&#43;OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"  crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],
    });
  });
</script>


<script defer src="https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js" 
  integrity="sha384-atOyb0FxAgN9LyAc6PEf9BjgwLISyansgdH8/VXQH8p2o5vfrRgmGIJ2Sg22L0A0"  crossorigin></script>


<link rel="icon" type="image/png" sizes="32x32" href="/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_3.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_3.png">

<meta name="description"
  content="Eureka is a elegant and powerful theme for Hugo.">



<meta property="og:title" content="我的博客" />
<meta property="og:type" content="website" />


<meta property="og:image" content="/images/icon.png">


<meta property="og:url" content="/zh/" />





<meta property="og:description" content="Eureka is a elegant and powerful theme for Hugo." />





<meta property="og:locale" content="zh" />



<meta property="og:locale:alternate" content="en" />




<meta property="og:site_name" content="我的博客" />






<meta property="og:updated_time" content="2022-09-03T00:00:00&#43;00:00" />



<meta property="article:section" content="" />


<link rel="alternate" type="application/rss+xml" href="/zh/index.xml" title="我的博客" />


  <body class="flex min-h-screen flex-col">
    <header
      class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"
    >
      <div class="mx-auto w-full max-w-screen-xl"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
    <a href="/zh" class="me-6 text-primary-text text-xl font-bold">我的博客</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/zh/#about" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">关于我</a>
            <a href="/zh/posts/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">博客</a>
            <a href="/zh/docs/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">学习</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka" name="Light">浅色</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Dark">深色</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Auto">自动</span>
                </div>
            </div>
            <div class="relative pt-4 ps-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="languageMode">
                    <i class="fas fa-globe"></i>
                    <span class="ps-1">简体中文</span>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open-lang">
                </div>
                <div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='languageOptions'>
                    <a class="px-4 py-1 hover:text-eureka" href="/zh/">简体中文</a>
                    <a class="px-4 py-1 hover:text-eureka" href="/">English</a>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change', switchDarkMode)
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }

    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
        switchLanguage()
    });
</script>
</div>
    </header>
    <main class="grow pt-16">
  
  
  
    
    <div class="bg-secondary-bg pl-scrollbar">
      <div class="mx-auto max-w-screen-xl">
        <div class="h-(screen-16) grid grid-cols-9 grid-rows-5">


          <div class="z-20 col-span-5 col-start-3 row-span-3 row-start-2">
            <div class="flex min-h-full flex-col items-center justify-center">
              <div class="-m-12 bg-white bg-opacity-75 p-12 shadow-2xl">
                <span
                  class="text-2xl font-bold text-black text-opacity-75 md:text-3xl"
                  ></span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="pl-scrollbar">
      <div class="mx-auto max-w-screen-xl">
        <div class="pt-12 md:px-4 xl:px-8">
<div class="mx-4 xl:mx-16">
    <div class="flex flex-row items-center justify-between">
        <h2 class=" font-bold text-3xl my-4">最近</h2>
    </div>
    <div class="masonry grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-09-03-mailgun-setup/" class="no-underline">
      <h3 class="mt-0">mailgun收发邮件</h3>
    </a>
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-09-03</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>0分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-31-vless-config/" class="no-underline">
      <h3 class="mt-0">vless配置</h3>
    </a>
    
      xray安装 注：我使用的是xray内核，v2ray内核应该也可以
wget https://github.com/XTLS/Xray-core/releases/download/v1.5.10/Xray-linux-64.zip unzip Xray-linux-64.zip cp xray /usr/bin mkdir /etc/xray cp *.dat /etc/xray  xray systemd服务 [Unit] Description=Xray Service Documentation=https://github.com/xtls After=network.target nss-lookup.target [Service] ExecStart=/usr/bin/xray run -config /etc/xray/config.json Environment=&#34;XRAY_LOCATION_ASSET=/etc/xray&#34; Restart=on-failure RestartPreventExitStatus=23 LimitNPROC=10000 LimitNOFILE=1000000 [Install] WantedBy=multi-user.target  注意：若xray所在目录和geosite.dat所在目录不一致，需要设置环境变量XRAY_LOCATION_ASSET，不设置此环境变量会导致默认将geosite.dat定位至/use/bin，此目录无geosite.dat，因此服务会报错无法启动
设置systemd服务自动启动
sudo systemctl enable --now xray  vless&#43;websocket&#43;tls配置 server端 xray配置 { &#34;log&#34;: { &#34;loglevel&#34;: &#34;warning&#34; //日志级别 }, &#34;inbounds&#34;: [ { &#34;port&#34;: 10016, &#34;protocol&#34;: &#34;vless&#34;, &#34;settings&#34;: { &#34;clients&#34;: [ { &#34;id&#34;: &#34;youruuid&#34;, // 填写你的 UUID &#34;level&#34;: 0, &#34;email&#34;: &#34;youremail&#34; } ], &#34;decryption&#34;: &#34;none&#34;, &#34;fallbacks&#34;: [ { &#34;dest&#34;: 80 //回落到nginx的80端口 }, { &#34;path&#34;: &#34;/path&#34;, // 必须换成自定义的 PATH &#34;dest&#34;: 1234, &#34;xver&#34;: 1 } ] }, &#34;streamSettings&#34;: { &#34;network&#34;: &#34;tcp&#34;, &#34;security&#34;: &#34;tls&#34;, &#34;tlsSettings&#34;: { &#34;alpn&#34;: [ &#34;http/1.
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-31</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>3分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-29-hysteria-config/" class="no-underline">
      <h3 class="mt-0">hysteria配置</h3>
    </a>
    
      由于hysteria用了udp协议，不受tcp阻断的影响，故尝试此项目。
server端 下载安装 下载 wget https://github.com/HyNetwork/hysteria/releases/download/v1.2.0/hysteria-linux-amd64
编辑配置文件config.json { &#34;listen&#34;: &#34;:37658&#34;, #监听端口 &#34;protocol&#34;: &#34;wechat-video&#34;, #流量类型，支持udp，faketcp，wechat-video &#34;cert&#34;: &#34;/path/to/fullchain.pem&#34;, &#34;key&#34;: &#34;/path/to/privkey.pem&#34;, &#34;alpn&#34;: &#34;h3&#34;, &#34;auth&#34;: { &#34;mode&#34;: &#34;passwords&#34;, &#34;config&#34;: [&#34;yourpassword&#34;] }, &#34;up_mbps&#34;: 100, #限速，建议值不要过高，默认单位：Mbps &#34;down_mbps&#34;: 100 }  启动hysteria ./hysteria -c config.json server  注册为systemd服务 [Unit] Description=Hysteria, a feature-packed network utility optimized for networks of poor quality Documentation=https://github.com/HyNetwork/hysteria/wiki After=network.target [Service] CapabilityBoundingSet=CAP_NET_BIND_SERVICE CAP_NET_RAW AmbientCapabilities=CAP_NET_BIND_SERVICE CAP_NET_RAW NoNewPrivileges=true WorkingDirectory=/etc/hysteria Environment=HYSTERIA_LOG_LEVEL=info ExecStart=/usr/bin/hysteria -c /etc/hysteria/config.json server Restart=on-failure RestartPreventExitStatus=1 RestartSec=5 [Install] WantedBy=multi-user.target  重载systemd服务 sudo systemctl daemon-reload sudo systemctl enable --now hysteria  client端 我是用的clash meta核心，它可以进行分流
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-29</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>1分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-28-gitlab-setup/" class="no-underline">
      <h3 class="mt-0">自建gitlab</h3>
    </a>
    
      安装方式 我选的docker镜像，方便管理
1.拉取docker镜像 docker pull gitlab/gitlab-ee:latest  2.设置gitlab存储位置 export GITLAB_HOME=/srv/gitlab #自己设置位置  3.运行docker镜像 sudo docker run --detach \ --hostname gitlab.example.com \ #外部url，服务器域名 --publish 443:443 --publish 80:80 --publish 22:22 \ #换成自己的端口 --name gitlab \ --restart always \ #设置自动启动 --volume $GITLAB_HOME/config:/etc/gitlab:Z \ #相当于文件挂载点 --volume $GITLAB_HOME/logs:/var/log/gitlab:Z \ --volume $GITLAB_HOME/data:/var/opt/gitlab:Z \ --shm-size 256m \ gitlab/gitlab-ee:latest  4.查看gitlab运行日志 sudo docker logs -f gitlab  注：成功后即可打开浏览器输入localhost进入登录界面
5.获取管理员初始密码 sudo docker exec -it gitlab grep &#39;Password:&#39; /etc/gitlab/initial_root_password  注：请在24小时内修改密码，否则密码将会失效
6.gitlab配置 由于我这台服务器有nginx，需要监听80端口，因此禁用gitlab的内建nginx
禁用内建nginx nginx[&#39;enable&#39;] = false  设置web服务器用户 web_server[&#39;external_users&#39;] = [&#39;www-data&#39;]  将web服务器添加到受信任的代理列表中 gitlab_rails[&#39;trusted_proxies&#39;] = [ &#39;192.
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-28</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>2分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-26-dns-config/" class="no-underline">
      <h3 class="mt-0">解决dns污染问题</h3>
    </a>
    
      起因 由于近期dns污染严重，域名解析不正常，故设置doh，dns分流进行dns解析。
配置 dnsmasq 通过dnsmasq-china-list进行dns分流
安装 git clone https://github.com/felixonmars/dnsmasq-china-list cd dnsmasq-china-list&amp;&amp;bash install.sh sudo systemctl restart dnsmasq //重启dnsmasq  效果 重启dnsmasq太慢，且解析速度下降
mosdns&#43;dnsmasq 安装 mosdns wget https://github.com/IrineSistiana/mosdns/releases/download/v4.1.9/mosdns-linux-amd64.zip unzip mosdns-linux-amd64.zip sudo mkdir /etc/mosdns sudo cp mosdns /usr/bin sudo cp config.yaml /etc/mosdns //配置文件 wget --no-check-certificate https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat -O /etc/mosdns/geosite.dat wget --no-check-certificate https://raw.githubusercontent.com/Loyalsoldier/geoip/release/geoip-only-cn-private.dat -O /etc/mosdns/geoip-only-cn-private.dat //中国ip名单  配置文件
log: level: warn file: &#34;mosdns.log&#34; data_providers: - tag: geosite file: ./geosite.dat auto_reload: true - tag: geoip file: ./geoip-only-cn-private.dat auto_reload: true plugins: # 缓存 - tag: cache type: cache args: size: 4096 lazy_cache_ttl: 172800 # 转发至本地服务器的插件 - tag: forward_local type: fast_forward args: upstream: - addr: tls://223.
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-26</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>2分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-21-random-number/" class="no-underline">
      <h3 class="mt-0">随机数生成</h3>
    </a>
    
      通过系统变量生成 echo $RANDOM  获取特定位数的随机字符,这里为10位
echo $RANDOM |md5sum |cut -c 1-10  获取随机数字,这里为10位
echo $RANDOM |cksum |cut -c 1-10  通过openssl生成 base64编码
openssl rand -base64 10  注：openssl产生的是指定长度个bytes的随机字符，也可使用cksum等命令生成随机数字
通过系统uuid生成 cat /proc/sys/kernel/random/uuid  通过程序实现 C&#43;&#43;实现 随机数 生成1~100000之间的随机数，使用srand函数初始化保证每次的随机数不同
# include &lt;iostream&gt; #include&lt;random&gt; #include&lt;time.h&gt; int main(){ srand((unsigned)time(NULL)); int a=1; int b=100000; std::cout &lt;&lt; (rand() % (b - a &#43; 1)) &#43; a &lt;&lt; std::endl; return 0; }  随机字符 
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-21</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>1分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-19-sqlserver-docker/" class="no-underline">
      <h3 class="mt-0">sql server docker镜像配置</h3>
    </a>
    
      1.拉取docker镜像 sudo docker pull mcr.microsoft.com/mssql/server:2022-latest  2.创建并运行docker镜像 sudo docker run -e &#34;ACCEPT_EULA=Y&#34; -e &#34;MSSQL_SA_PASSWORD=&lt;YourPassword&gt;&#34; \ -p 1433:1433 --name sql1 --hostname sql1 \ -d \ mcr.microsoft.com/mssql/server:2022-latest  注：开放1433端口以进行数据库连接，docker镜像名称为sql1
3. 查看sql server服务器是否准备好连接 docker exec -t sql1 cat /var/opt/mssql/log/errorlog | grep connection  4.设置管理员密码 sudo docker exec -it sql1 /opt/mssql-tools/bin/sqlcmd \ -S localhost -U SA \ -P &#34;$(read -sp &#34;Enter current SA password: &#34;; echo &#34;${REPLY}&#34;)&#34; \ -Q &#34;ALTER LOGIN SA WITH PASSWORD=\&#34;$(read -sp &#34;Enter new SA password: &#34;; echo &#34;${REPLY}&#34;)\&#34;&#34;  5.
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-19</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>1分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-15-gpg-encrypt/" class="no-underline">
      <h3 class="mt-0">gpg加密解密</h3>
    </a>
    
      生成密钥 gpg生成私钥 gpg –gen-key 导出密钥
gpg --export --armor keyID &gt; gpgkey.pub.asc  导入公钥
gpg --import gpgkey.pub.asc  从服务器导入
gpg --keyserver servername --recv-keys keyID  非对称加密解密 加密文件
gpg -e -r username filename  解密文件
gpg -d filename  对称加密解密 加密文件
gpg --symmetric filename  解密文件
gpg -d filename  对文件签名 数字签名
gpg -o filename.sig -s filename  签名&#43;加密
gpg -o filename.sig -ser name filename  文本签名
gpg -o filename.sig --clearsign filename  分离签名（原文件与签名分开）
gpg -o filename.sig -ab filename  验证签名
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-15</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>1分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-11-clash-tun-mode/" class="no-underline">
      <h3 class="mt-0">clash tun模式配置</h3>
    </a>
    
      1. 劫持系统dns 安装dnsmasq并启动dnsmasq sudo dnf install dnsmasq sudo systemctl start dnsmasq  删除系统自己的resolv.conf,并新建resolv.conf指定dns服务器ip 注：systemd-resolved的dns服务器ip为127.0.0.53，dnsmasq为127.0.0.1
sudo rm /etc/resolv.conf sudo vim /etc/resolv.conf  nameserver 127.0.0.1 options edns0 trust-ad search .  注意：需要关闭networkmanager的dns服务器防止dns服务器ip被替换
sudo vim /etc/NetworkManager/NetworkManager.conf  [main] dns = none  重启networkmanager
sudo systemctl restart NetworkManager  编辑dnsmasq配置文件
sudo vim /etc/dnsmasq.d/clash.conf  no-hosts no-resolv server=127.0.0.1#1053 //将dns请求全部转发到clash  重新启动dnsmasq
sudo systemctl restart dnsmasq  clash的dns服务器配置
config.yaml
dns: enable: true ipv6: true listen: :1053 enhanced-mode: fake-ip # redir-host or fake-ip fake-ip-range: 198.
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-11</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>2分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
        <div class="item">
            <div class="grid-content">
                <div
  class="bg-secondary-bg dark:border-tertiary-bg overflow-hidden rounded border transition duration-200 ease-in-out hover:shadow-lg"
>
  
  
  <div class="prose px-6 pt-6 pb-4">
    <a href="/zh/posts/2022-08-10-nginx-config/" class="no-underline">
      <h3 class="mt-0">nginx配置</h3>
    </a>
    
      测试系统：Debian11
1.安装升级系统 sudo apt update  2.安装nginx sudo apt install nginx  3.申请域名 github学生包或者freenom免费域名，添加域名解析，使用nslookup命令查看是否解析成功，注意先不要使用cdn
4.申请证书 zerossl或者letsencrypt即可
80端口验证 sudo apt install python3-certbot-nginx  安装完成后：
sudo certbot –nginx  邮箱系统验证 dns验证 泛域名申请 以cloudflare为例：
创建cloudflare api密钥，记下token
创建cloudflare.ini配置文件并放入指定位置
dns_cloudflare_api_token = your_token  申请证书
certbot certonly \ --dns-cloudflare \ --dns-cloudflare-credentials ~/.secrets/certbot/cloudflare.ini \ -d example.com \ -d www.example.com  二级域名申请 sudo certbot -d my.example.com --manual --preferred-challenges dns certonly  注：根据提示添加txt域名映射记录，待域名生效后即可回车
5.编辑nginx配置文件 编辑/etc/nginx/sites-enabled/default文件
server { # SSL configuration # # listen 443 ssl default_server; # listen [::]:443 ssl default_server; # # Note: You should disable gzip for SSL traffic.
    
    <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2022-08-10</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>2分钟阅读时长</span>
  </div>

  

  
</div>

  </div>
</div>

            </div>
        </div>
        
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        enableMasonry()
    })
</script>

        </div>
      </div>
    </div>
    

  
    </main>
    <footer class="pl-scrollbar">
      <div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; 2021 <a href="https://www.wangchucheng.com/">WANG Chucheng</a> and <a href="https://www.ruiqima.com/">MA Ruiqi</a>
 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
    </footer>
  </body>
</html>
